[["index.html", "FACE Benchmarking Project Documentation Documentation", " FACE Benchmarking Project Documentation Betsy Cowdery 2021-02-11 Documentation This is all the documentation that will also hopefully become the paper. "],["setup.html", "Setup", " Setup ########################## # Get all the ids for BETY # load in the current json file ids &lt;- rjson::fromJSON(file = &quot;/fs/data3/ecowdery/FACE/FACE-MDS_runs/ids.json&quot;) # run ids runs &lt;- dplyr::bind_rows(ids$runs, .id = &quot;model&quot;) %&gt;% gather(key=&quot;treatment&quot;, value =&quot;workflow_id&quot;, -&quot;model&quot;) # I selected these variables because they are the most common / interesting # But there may be more that we want to include in the future ... vars &lt;- c(&quot;NEE&quot;, &quot;TotalResp&quot;, &quot;Qle&quot;, &quot;NPP&quot;, &quot;LAI&quot;, &quot;SoilMoistFrac&quot;, &quot;TotLivBiom&quot;) # input ids input_info &lt;- dplyr::bind_rows(ids$inputs) %&gt;% gather(key = &quot;input_name&quot;, value = &quot;input_id&quot;) bety &lt;- betyConnect(&quot;/fs/data3/ecowdery/pecan/web/config.php&quot;) inputs &lt;- tbl(bety, &quot;inputs&quot;) %&gt;% filter(id %in% !!input_info$input_id) %&gt;% select(id, format_id) %&gt;% left_join(tbl(bety,&quot;formats_variables&quot;) %&gt;% select(variable_id, format_id)) %&gt;% left_join(tbl(bety, &quot;variables&quot;) %&gt;% select(id, name), by = c(&quot;variable_id&quot; = &quot;id&quot;)) %&gt;% collect() %&gt;% rename(&quot;input_id&quot; = &quot;id&quot;) %&gt;% mutate(input_id = as.numeric(input_id), format_id = as.numeric(format_id), variable_id = as.numeric(variable_id)) %&gt;% left_join(input_info) ## Joining, by = &quot;format_id&quot; ## Joining, by = &quot;input_id&quot; "],["timeseries-plots.html", "Timeseries Plots NPP LAI", " Timeseries Plots NPP ## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39; LAI ## # A tibble: 4 x 5 ## input_id format_id variable_id name input_name ## &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; ## 1 1000008119 1000000013 18 LAI NPP_a ## 2 1000008120 1000000013 18 LAI NPP_e ## 3 1000013748 1000000061 18 LAI P2_e ## 4 1000013743 1000000061 18 LAI P2_a ## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39; "],["one-to-one-plots.html", "One to One Plots NPP LAI", " One to One Plots NPP p &lt;- ggplot(NPP_out_wide) + geom_abline(intercept = 0, slope = 1, size = 1, linetype =&quot;longdash&quot;, lineend = &quot;round&quot;) + geom_line(aes(x = Observed, y = value, color = model, group = model)) + facet_grid(cols = vars(treatment)) ## Warning: Ignoring unknown parameters: lineend p &lt;- p + theme_bw() + scale_colour_manual(name = models, values = ModelColors) p &lt;- p + xlab(&quot;Observed&quot;) + ylab(&quot;Predicted&quot;) p &lt;- p + theme(axis.text=element_text(size=18), axis.title=element_text(size=20,face=&quot;bold&quot;), legend.position=&quot;none&quot;) p LAI p &lt;- ggplot(LAI_out_wide) + geom_abline(intercept = 0, slope = 1, size = 1, linetype =&quot;longdash&quot;, lineend = &quot;round&quot;) + geom_line(aes(x = Observed, y = value, color = model, group = model)) + facet_grid(cols = vars(treatment)) ## Warning: Ignoring unknown parameters: lineend p &lt;- p + theme_bw() + scale_colour_manual(name = models, values = ModelColors) p &lt;- p + xlab(&quot;Observed&quot;) + ylab(&quot;Predicted&quot;) p &lt;- p + theme(axis.text=element_text(size=18), axis.title=element_text(size=20,face=&quot;bold&quot;), legend.position=&quot;none&quot;) p "]]
